#!/bin/bash
# Run tests for CAMARA validator

set -e

echo "ðŸ§ª Running CAMARA Validator tests..."

# Activate virtual environment if not already active
if [[ -z "$VIRTUAL_ENV" ]]; then
    source venv/bin/activate
fi

# Run unit tests
echo "ðŸ§ª Running unit tests..."
pytest scripts/camara-validator/tests/unit -v

# Run integration tests
echo "ðŸ§ª Running integration tests..."
pytest scripts/camara-validator/tests/integration -v

# Generate coverage report
echo "ðŸ“Š Generating coverage report..."
pytest scripts/camara-validator/tests --cov=camara_validator --cov-report=html --cov-report=term

echo "âœ… All tests passed!"
echo "ðŸ“Š Coverage report available at: htmlcov/index.html"
